<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reels - Menegram</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body, html { margin:0; padding:0; font-family: Arial, sans-serif; background:#000; color:#fff; height:100%; overflow:hidden; }
.reels-container { height:100vh; overflow-y: scroll; scroll-snap-type: y mandatory; }
.reel { position:relative; height:100vh; width:100%; scroll-snap-align: start; display:flex; justify-content:center; align-items:center; }
video { height:100%; width:auto; object-fit:cover; }
.reel-info { position:absolute; bottom:60px; left:15px; max-width:70%; }
.reel-info .username { font-weight:bold; margin-bottom:5px; }
.reel-info .caption { font-size:0.9em; opacity:0.9; }
.reel-actions { position:absolute; right:10px; bottom:80px; display:flex; flex-direction:column; gap:20px; align-items:center; }
.reel-actions button { background:none; border:none; color:#fff; font-size:1.5em; cursor:pointer; display:flex; flex-direction:column; align-items:center; }
.reel-actions button span { font-size:0.8em; margin-top:5px; }

.heart-overlay { position:absolute; top:50%; left:50%; transform:translate(-50%, -50%) scale(0); color:#fff; font-size:4em; pointer-events:none; opacity:0.8; transition: transform 0.3s ease; }

.comments-popup, .share-popup { display:none; position:fixed; bottom:0; left:0; width:100%; height:50%; background:#111; border-top-left-radius:15px; border-top-right-radius:15px; padding:10px; overflow-y:auto; z-index:2000; }
.comments-popup h3, .share-popup h3 { margin-top:0; color:#fff; text-align:center; }
.comments-popup input { width:80%; padding:10px; border-radius:20px; border:none; margin-bottom:10px; }
.comments-popup button { padding:10px 15px; border-radius:20px; border:none; cursor:pointer; background:#5d3ebc; color:#fff; margin-left:5px; }
.comments-popup .comment, .share-popup .friend { padding:10px; border-bottom:1px solid #333; color:#fff; }
.close-popup { position:absolute; top:10px; right:15px; cursor:pointer; font-size:1.2em; }
</style>
</head>
<body>

<div class="reels-container">
  <div class="reel">
    <video src="https://www.w3schools.com/html/mov_bbb.mp4" loop muted autoplay></video>
    <div class="reel-info">
      <div class="username">@ahmed</div>
      <div class="caption">تجربة ريلز 1</div>
    </div>
    <div class="reel-actions">
      <button class="like-btn" onclick="likeReel(this)"><i class="fa-solid fa-heart"></i><span>0</span></button>
      <button onclick="openComments(this)"><i class="fa-regular fa-comment"></i><span>30</span></button>
      <button onclick="openShare(this)"><i class="fa-solid fa-share"></i><span>مشاركة</span></button>
    </div>
    <i class="fa-solid fa-heart heart-overlay"></i>
  </div>

  <div class="reel">
    <video src="https://www.w3schools.com/html/movie.mp4" loop muted autoplay></video>
    <div class="reel-info">
      <div class="username">@sara</div>
      <div class="caption">تجربة ريلز 2</div>
    </div>
    <div class="reel-actions">
      <button class="like-btn" onclick="likeReel(this)"><i class="fa-solid fa-heart"></i><span>0</span></button>
      <button onclick="openComments(this)"><i class="fa-regular fa-comment"></i><span>15</span></button>
      <button onclick="openShare(this)"><i class="fa-solid fa-share"></i><span>مشاركة</span></button>
    </div>
    <i class="fa-solid fa-heart heart-overlay"></i>
  </div>
</div>

<!-- التعليقات -->
<div class="comments-popup" id="commentsPopup">
  <span class="close-popup" onclick="closeComments()">✖</span>
  <h3>التعليقات</h3>
  <div style="display:flex; margin-bottom:10px;">
    <input type="text" id="newCommentInput" placeholder="أضف تعليق...">
    <button onclick="addComment()">إرسال</button>
  </div>
  <div id="commentsList">
    <div class="comment">أحمد: رائع!</div>
    <div class="comment">سارة: أعجبني الفيديو</div>
  </div>
</div>

<!-- مشاركة -->
<div class="share-popup" id="sharePopup">
  <span class="close-popup" onclick="closeShare()">✖</span>
  <h3>شارك مع أصدقائك</h3>
  <div class="friend" onclick="alert('تم إرسال الريلز إلى محمد')">محمد</div>
  <div class="friend" onclick="alert('تم إرسال الريلز إلى سارة')">سارة</div>
  <div class="friend" onclick="alert('تم إرسال الريلز إلى أحمد')">أحمد</div>
</div>

<script>
// Like functionality
function likeReel(btn){
  const icon = btn.querySelector('i');
  const span = btn.querySelector('span');
  let count = parseInt(span.textContent);
  if(!btn.classList.contains('liked')){
    btn.classList.add('liked');
    icon.style.color='red';
    span.textContent = count + 1;
  } else {
    btn.classList.remove('liked');
    icon.style.color='white';
    span.textContent = count - 1;
  }
}

// Double Tap Like
document.querySelectorAll('.reel').forEach(reel=>{
  let tapCount = 0;
  const heart = reel.querySelector('.heart-overlay');
  reel.addEventListener('click', ()=>{
    tapCount++;
    setTimeout(()=>{
      if(tapCount===2){
        const likeBtn = reel.querySelector('.like-btn');
        likeReel(likeBtn);
        heart.style.transform='translate(-50%, -50%) scale(1)';
        setTimeout(()=>{ heart.style.transform='translate(-50%, -50%) scale(0)'; }, 600);
      }
      tapCount=0;
    },300);
  });
});

// Comments
const commentsPopup = document.getElementById('commentsPopup');
const commentsList = document.getElementById('commentsList');
function openComments(){ commentsPopup.style.display='block'; }
function closeComments(){ commentsPopup.style.display='none'; }
function addComment(){
  const input = document.getElementById('newCommentInput');
  const text = input.value.trim();
  if(text){
    const div = document.createElement('div');
    div.className='comment';
    div.textContent = 'أنت: ' + text;
    commentsList.appendChild(div);
    input.value='';
  }
}

// Share
const sharePopup = document.getElementById('sharePopup');
function openShare(){ sharePopup.style.display='block'; }
function closeShare(){ sharePopup.style.display='none'; }
</script>

</body>
</html>